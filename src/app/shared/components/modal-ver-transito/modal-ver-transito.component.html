<div class="modal-header">
    <h4 class="modal-title">
        Ordenes de compra
    </h4>
    <button type="button" class="close" aria-label="Close" (click)="CerrarModalTransito()">
        <span aria-hidden="true">
            &times;
        </span>
    </button>
</div>
<div class="modal-body">
   
        <!-- <table class="table table-striped no-wrap border mt-4" style="font-size: 13px;">
            <thead>
                <tr>
                    <th class="text-center">Nro Orden</th>
                    <th class="text-center">Item</th>
                    <th class="text-center">Descripción</th>
                    <th class="text-center text-truncate" style="max-width: 150px;">Proveedor</th>
                    <th class="text-center">Fec. Preparación</th>
                    <th class="text-center">Dias</th>
                    <th class="text-center">Nuevo f.prometida </th>
                    <th class="text-center">Falta</th>
                    <th class="text-center">Cant. Pedida</th>
                    <th class="text-center">Cant recibida</th>
                    <th class="text-center">Cant.Tránsito</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let ordenCompra of listarOrdenCompraDrogueria;  let i = index">
                    <td class="text-center font-medium">
                        {{ ordenCompra['numeroOrden'] }}
                    </td>
                    <td class="text-center font-medium">
                        {{ ordenCompra['itemFinal'] }}
                    </td> 
                    <td class="text-left font-medium">
                        {{ ordenCompra['descripcion'] }}
                    </td>                    
                    <td class="text-left font-medium text-truncate" style="max-width: 150px;">
                        {{ ordenCompra['proveedor'] }}
                    </td>
                    <td class="text-center font-medium">
                        {{ ordenCompra['fechaPreparacion'] | date:'dd/MM/yyyy' }}
                    </td>
                    <td class="text-center font-medium">
                        {{ ordenCompra['tiempoGeneral'] | number : '1.2-2' }}
                    </td>
                    <td class="text-center font-medium">
                        {{ ordenCompra['nuevoTiempoEntrega'] | date:'dd/MM/yyyy'  }}
                    </td>
                    <td class="text-center font-medium">
                        <span class="font-medium" [ngStyle]="{ 'color': ordenCompra['diasFalta'] > 0 ? 'blue' : 'red' }"> 
                            {{ ordenCompra['diasFalta'] | number  }} {{ordenCompra['diasFalta']==1 ?  'dia' : 'dias'}}
                        </span>
                        <a type="button" (click)="quitarTransito(ordenCompra,i)" *ngIf="ordenCompra['diasFalta']<0">
                            <i class="fa fa-times text-danger"></i>
                        </a>
                    </td>
                    <td class="text-center font-medium">
                        {{ ordenCompra['cantidadPedida'] | number }}
                    </td>
                    <td class="text-center font-medium">
                        {{ ordenCompra['cantidadKardex'] | number }}
                    </td>
                    <td class="text-center font-medium">
                        {{ ordenCompra['cantidadTransito'] | number }}
                    </td>
                </tr>
            </tbody>
        </table> -->


        <div class="row">
            <div class="col-12" style="height: 60vh;">
                <ngx-datatable class="material"  [reorderable]="false" [rows]="listarOrdenCompraDrogueria" [columnMode]="'force'"
                    [headerHeight]="50" [footerHeight]="50" [rowHeight]="50" [scrollbarV]="true"
                    [sorts]="[{prop: 'name', dir: 'desc'}]" [loadingIndicator]="flagEspera" style="height: 90%;" class="material font-medium"
                    [rowHeight]="50" [scrollbarH]="true">

                    <ngx-datatable-column name="NumeroOrden" prop="numeroOrden" [frozenLeft]="true" [width]="40">
                        <ng-template let-row="row" ngx-datatable-cell-template>
                            <span class="font-medium">{{row.numeroOrden }}</span>
                        </ng-template>
                    </ngx-datatable-column>
                    <ngx-datatable-column name="Item" prop="itemFinal" [frozenLeft]="true" [width]="10">
                        <ng-template let-row="row" ngx-datatable-cell-template>
                            <span class="font-medium">{{row.itemFinal }}</span>
                        </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column name="Descripción" prop="descripcion" [frozenLeft]="true" [width]="150">
                        <ng-template let-row="row" ngx-datatable-cell-template>
                            <span class="font-medium">{{row.descripcion }}</span>
                        </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column name="Proveedor" prop="proveedor" [frozenLeft]="true" [width]="10">
                        <ng-template let-row="row" ngx-datatable-cell-template>
                            <span class="font-medium">{{row.proveedor }}</span>
                        </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column name="F.Preparación" prop="fechaPreparacion" [width]="10">
                        <ng-template let-row="row" ngx-datatable-cell-template>
                            <span class="font-medium">{{row.fechaPreparacion | date:'dd/MM/yyyy'  }}</span>
                        </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column name="T.General" prop="tiempoGeneral"  [width]="10">
                        <ng-template let-row="row" ngx-datatable-cell-template>
                            <span class="font-medium">{{row.tiempoGeneral | number : '1.2-2'  }}</span>
                        </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column name="nuevoTiempoEntrega" prop="nuevoTiempoEntrega"  [width]="10">
                        <ng-template let-row="row" ngx-datatable-cell-template>
                            <span class="font-medium">{{row.nuevoTiempoEntrega | date:'dd/MM/yyyy'   }}</span>
                        </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column name="Falta" prop="diasFalta"  [width]="5">
                        <ng-template let-row="row" ngx-datatable-cell-template>
                            <span class="font-medium"
                                        [ngStyle]="{ 'color': row.diasFalta > 0 ? 'blue' : 'red' }">{{row.diasFalta}}</span>
                            <a type="button" (click)="quitarTransito(row,i)" *ngIf="row['diasFalta']<0">
                                            <i class="fa fa-times text-danger"></i>
                            </a>
                        </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column name="Cant.Pedida" prop="cantidadPedida" [width]="10">
                        <ng-template let-row="row" ngx-datatable-cell-template>
                            <span class="font-medium">{{row.cantidadPedida | number }}</span>
                        </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column name="Cant.Kardex" prop="cantidadKardex" [width]="10">
                        <ng-template let-row="row" ngx-datatable-cell-template>
                            <span class="font-medium">{{row.cantidadKardex | number }}</span>
                        </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column name="Cant.Tránsito" prop="cantidadTransito" [width]="10">
                        <ng-template let-row="row" ngx-datatable-cell-template>
                            <span class="font-medium">{{row.cantidadTransito | number }}</span>
                        </ng-template>
                    </ngx-datatable-column>

                  
                </ngx-datatable>
            </div>
      
    </div>
</div>

<div class="modal-footer">
</div>
